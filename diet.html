<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="bmi.css" />
    <script src="bmi.js" defer></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div class="nav-logo">
      <div class="hamburger" onclick="toggleMenu()">â˜°</div>
      <div class="nav-logo-text" id="pagetitle">BMI Calculator</div>
    </div>
    <div class="layout-container">
      <nav id="navLinks">
        <div class="nav-links">
          <a href="index.html">Calculator</a>
          <a href="about.html">About</a>
          <a href="diet.html">Diet Plan</a>
          <a href="contact.html">Contact</a>
        </div>
      </nav>
      <section>
        <div class="main-section">
          <div class="main-heading">
            What are we having <strong>today ?</strong>
          </div>
          <div id="dietcontainer" class="dietcontainer">
            <!-- <div class="mealcontainer">
              <img
                src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/60/Burrito.JPG/1200px-Burrito.JPG"
              />
              <div class="mealcontainer-text">Burito</div>
              <div class="description">Burito is very tasty</div>
            </div> -->
            
          </div>

          <script>
          document.addEventListener("DOMContentLoaded", () => {
  const Mealplan = JSON.parse(localStorage.getItem("Mealplan"));
  if (!Mealplan || !Mealplan.meals) {
    document.getElementById("dietcontainer").innerText = "No meal plan found.";
    return;
  }

  const baseUrl = "https://spoonacular.com/recipeImages/";
  const container = document.getElementById("dietcontainer");

  container.innerHTML = ""; // clear container

  Mealplan.meals.forEach((meal) => {
    // Create outer card container
    const mealCard = document.createElement("div");
    mealCard.classList.add("mealcontainer");

    // Inner container that flips
    const inner = document.createElement("div");
    inner.classList.add("mealcontainer-inner");

    // Front side with image
    const front = document.createElement("div");
    front.classList.add("mealcontainer-front");
    front.innerHTML = `<img src="${baseUrl}${meal.image}" alt="${meal.title}">`;

    // Back side with details
    const back = document.createElement("div");
    back.classList.add("mealcontainer-back");

    // Nutritional info text, servings from meal, calories etc from Mealplan.nutrients (distributed per meal)
    // We'll approximate calories etc. per meal by dividing total nutrients by meal count
    const mealCount = Mealplan.meals.length;
    const calories = (Mealplan.nutrients.calories / mealCount).toFixed(0);
    const protein = (Mealplan.nutrients.protein / mealCount).toFixed(1);
    const fat = (Mealplan.nutrients.fat / mealCount).toFixed(1);
    const carbs = (Mealplan.nutrients.carbohydrates / mealCount).toFixed(1);

    back.innerHTML = `
      <h3>${meal.title}</h3>
      <div class="nutrition-info">
        <p><strong>Servings:</strong> ${meal.servings || 'N/A'}</p>
        <p><strong>Calories:</strong> ${calories} kcal</p>
        <p><strong>Protein:</strong> ${protein} g</p>
        <p><strong>Fat:</strong> ${fat} g</p>
        <p><strong>Carbohydrates:</strong> ${carbs} g</p>
      </div>
      <a href="${meal.sourceUrl}" target="_blank" class="review-button">view Recipe</a>
    `;

    // Assemble card
    inner.appendChild(front);
    inner.appendChild(back);
    mealCard.appendChild(inner);
    container.appendChild(mealCard);
  });
});

          
          </script>
        </div>
      </section>
    </div>
  </body>
</html>
